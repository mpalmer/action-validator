#!/usr/bin/env bash

set -e -o pipefail

if ! command -v action-validator &>/dev/null; then
	echo "action-validator not installed or available in the PATH" >&2
	exit 1
fi

for file in $@
do
   echo "File: ${file}"
   errors=$(action-validator $file 2>&1)
   if [ ! -z "$errors" ]; then
      echo "${errors}"
      exit 1
   fi
done
